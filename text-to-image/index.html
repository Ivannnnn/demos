<style>
  canvas {
    display: none;
  }
</style>

<input type="text" value="Example text" />
<button>download</button>
<canvas></canvas>

<script>
  const $ = s => Array.from(document.querySelectorAll(s))

  const downloadImage = function(canvas) {
    var link = document.createElement('a')
    link.download = 'text-image.png'
    link.href = canvas.toDataURL()
    link.click()
  }

  const canvas = $('canvas')[0]
  const button = $('button')[0]
  const input = $('input')[0]

  button.addEventListener('click', () => {
    const img = new Image()
    img.crossOrigin = 'anonymous'
    img.onload = () => {
      const ctx = canvas.getContext('2d')
      ctx.drawImage(img, 10, 10)
      ctx.font = '30px Arial'
      ctx.fillStyle = '#f5426f'
      ctx.fillText(input.value, 10, 50)
      downloadImage(canvas)
    }
    img.src = 'img.jpg'
  })
</script>
